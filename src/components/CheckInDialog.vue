<template>
  <transition name="fade">
    <div class="dialog-backdrop" @click.self="$emit('close')">
      <div class="dialog-content">
        <button class="close-btn" @click="$emit('close')">âœ–</button>
        <h2>ğŸŸï¸ æ‰“å¡å°ˆå±¬å…¥å£</h2>

        <input v-model="code" placeholder="è«‹è¼¸å…¥ä½ çš„å°ˆå±¬åºè™Ÿ" :disabled="loading || success" />
        <button v-if="!success" @click="checkCode" :disabled="loading || !code.trim()">
          {{ loading ? 'é©—è­‰ä¸­â€¦' : 'æ‰“å¡' }}
        </button>
        <p v-if="message" :class="{ success, error: !success }">{{ message }}</p>

        <!-- âœ… é©—è­‰æˆåŠŸå¾Œé¡¯ç¤ºç•«ç•«å€ -->
        <DrawingPad v-if="success" :code="code" />
      </div>
    </div>
  </transition>
</template>
<script setup lang="ts">
import DrawingPad from '../views/DrawingBordView.vue'

</script>
